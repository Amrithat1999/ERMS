{% extends 'admin_base.html' %}

{%block main %}
<script type="text/javascript">
    function checkpassword()
    {
    if(document.changepassword.newpassword.value != document.changepassword.confirmpassword.value)
    {
    alert('New Password and Confirm password field does not match');
    document.changepassword.currentpassword.focus();
    return false;
    }
    return true;
    }

</script>

<style>
    .field-icon {
  float: right;
  margin-left: -25px;
  margin-top: -25px;
  position: relative;
  z-index: 2;
}

.container{
  padding-top:50px;
  margin: auto;
}
</style>

<div class="card shadow m-2">
    <div class="card-body">
        <h5 class="p-2 text-danger" style="border-bottom : 2px solid orange"> Change Password</h5>
        <div class="container-fluid">
            <form method="post" name="changepassword" onsubmit="return checkpassword()">
                {% csrf_token %}
                <div class="form-row">

                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>Current Password</label>
                            <input id="password-field" type="password" name="currentpassword" class="form-control" placeholder="Enter Current Password" >
                            <span toggle="#password-field" class="fa fa-fw fa-eye field-icon toggle-password"></span>
                        </div>
                    </div>
                </div>

                <div class="form-row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label>New Password</label>
                            <input id="password-fields" type="password" name="newpassword" class="form-control" placeholder="Enter New Password">
                            <span toggle="#password-fields" class="fa fa-fw fa-eye field-icon toggle-password"></span>
                        </div>
                    </div>
                    </div>
                <div class="form-row">
                     <div class="col-sm-6">
                        <div class="form-group">
                            <label>Confirm New Password</label>
                            <input id="password-fieldss" type="password" name="confirmpassword" class="form-control" placeholder="Enter New Password Again">
                            <span toggle="#password-fieldss" class="fa fa-fw fa-eye field-icon toggle-password"></span>
                        </div>
                    </div>

<!--                    <input type="password" id="myInput"><br><br>-->
<!--                    <input type="checkbox" onclick="myFunction()">Show Password-->



                </div>

                <input type="submit" value="submit" class="m-2 px-3 btn btn-primary">

            </form>

        </div>

    </div>
</div>

{% if error == "no" %}
<script>
    alert('Password Updated Successfully');
    window.location=('{% url "admin_login" %}');
</script>
{% endif %}
{% if error == "yes" %}
<script>
    alert('Something went wrong, Try Again..');
</script>
{% endif %}
{% if error == "not" %}
<script>
    alert('Your current password is Wrong');
</script>
{% endif %}
<script>
   $(".toggle-password").click(function() {

  $(this).toggleClass("fa-eye fa-eye-slash");
  var input = $($(this).attr("toggle"));
  if (input.attr("type") == "password") {
    input.attr("type", "text");
  } else {
    input.attr("type", "password");
  }
});
</script>
<script>
   $(".toggle-passwords").click(function() {

  $(this).toggleClass("fa-eye fa-eye-slash");
  var input = $($(this).attr("toggle"));
  if (input.attr("type") == "password") {
    input.attr("type", "text");
  } else {
    input.attr("type", "password");
  }
});
</script>
<script>
   $(".toggle-passwordss").click(function() {

  $(this).toggleClass("fa-eye fa-eye-slash");
  var input = $($(this).attr("toggle"));
  if (input.attr("type") == "password") {
    input.attr("type", "text");
  } else {
    input.attr("type", "password");
  }
});
</script>


<script>
function myFunction() {
  var x = document.getElementById("myInput");
  if (x.type === "password") {
    x.type = "text";
  } else {
    x.type = "password";
  }
}
</script>
{% endblock %}




